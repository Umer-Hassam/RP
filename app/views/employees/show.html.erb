<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong><%= @employee.profile.full_name %>
  <strong>Rate:</strong><%= @employee.rate %>
  <%= link_to 'Edit', edit_employee_path(@employee) %> 
  
</p>
<div class="">
<b> Assigned To: </b> <%= @employee.vendor == nil ? "None" : @employee.vendor.profile.full_name %>
</div>
<b> Weekly Report </b>
<% today = Date.today # Today's date %>
<% @days_from_this_week = (today.at_beginning_of_week..today.at_end_of_week).map %> 
<% for day in (today.at_beginning_of_week..today.at_end_of_week).map.each { |day| day } do %>
<div class="">
	<% start_time = DateTime.parse(day.to_s) %>
	<% hours = @employee.work_durations.where('work_day = ?', start_time) %>
    
	<%= day.strftime(" %b %e") %>: 
	<% if hours.count > 0 %>
		<%= hours.first.hours %> Hours <%= link_to "Update Hours", edit_work_duration_url(:id => hours.first.id, :eid => @employee.id, :date => day) %>
	<% else %>
		<%= link_to "Add Hours", new_work_duration_url(:eid => @employee.id, :date => day) %>
	<% end %>

</div>
<% end %>

<%# end_time = 6.day.since(start_time) %>
	<%# Article.where('published_on >= ? and published_on < ?', start_time, end_time) %>